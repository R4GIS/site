<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="3wpHHnuvp_52dDrXvZoNa5_Vs4BWcyVoeM62GbQ7llc" />

  <title>Comportamentos imprevisíveis do lubridate</title>

  <meta name="author" content="" />
  <meta name="keywords" content="">

  

  <meta name="generator" content="Hugo 0.21" />

  <link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>
  
  
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-6479521664471475",
      enable_page_level_ads: true
    });
  </script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  
  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  
  <link href="http://curso-r.com/css/animate.css" rel="stylesheet">

  
  
    <link href="http://curso-r.com/css/style.red.css" rel="stylesheet" id="theme-stylesheet">
  


  
  <link href="http://curso-r.com/css/custom.css" rel="stylesheet">

  
    

  
  <link rel="shortcut icon" href="http://curso-r.com/img/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="http://curso-r.com/img/apple-touch-icon.png" />
  

  <link href="http://curso-r.com/css/owl.carousel.css" rel="stylesheet">
  <link href="http://curso-r.com/css/owl.theme.css" rel="stylesheet">

  <link rel="alternate" href="http://curso-r.com/index.xml" type="application/rss+xml" title="Curso-R">
  <link href="http://curso-r.com/css/prism.css" rel="stylesheet" />
  
  
  <meta property="og:title" content="Comportamentos imprevisíveis do lubridate" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/blog/2017/09/02/2017-07-29-comportamentos-estranhos-lubridate//" />
  <meta property="og:image" content="img/detetive.jpeg" />

</head>


  <body>

    <div id="all">

        <header>

          <div class="navbar-affixed-top" data-spy="affix" data-offset-top="200">

    <div class="navbar navbar-default yamm" role="navigation" id="navbar">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="http://curso-r.com/">
                    <img src="http://curso-r.com/img/logo.svg" alt="Comportamentos imprevisíveis do lubridate logo" width="50" height="50">
                    <span class="sr-only">Comportamentos imprevisíveis do lubridate - go to homepage</span>
                </a>
                <div class="navbar-buttons">
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                        <span class="sr-only">Toggle navigation</span>
                        <i class="fa fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">
                <ul class="nav navbar-nav navbar-right">
                    
                    <li class="dropdown">
                        <a href="http://curso-r.com/">Home</a>
                    </li>
                    
                    <li class="dropdown">
                        <a href="http://curso-r.com/sobre/">Sobre</a>
                    </li>
                    
                    <li class="dropdown">
                        <a href="http://curso-r.com/cursos/">Cursos</a>
                    </li>
                    
                    <li class="dropdown">
                        <a href="http://curso-r.com/blog/">Blog</a>
                    </li>
                    
                    <li class="dropdown">
                        <a href="http://material.curso-r.com/">Material</a>
                    </li>
                    
                    <li class="dropdown">
                        <a href="http://curso-r.com/contact/">Contato</a>
                    </li>
                    
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">

                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">

                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>

                </span>
                    </div>
                </form>

            </div>
            

        </div>
    </div>
    

</div>




        </header>

        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Comportamentos imprevisíveis do lubridate</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">

                <div class="row">

                    

                    <div class="col-md-9" id="blog-post">

                        <p class="text-muted text-uppercase mb-small text-right">
                          
                            Por 
                            
                            
                              
                                <a href="http://curso-r.com/author/fernando">Fernando</a>
                            
                            
                          
                          
                          02/09/2017
                        </p>
                        
                        <div id="post-content">
                          <p>Manter-se atualizado na parte mais computacional é muito importante para um estatístico. Essa convicção é bastante razoável, mas costuma gerar polêmica em alguns ciclos acadêmicos. Quem nunca se questionou se “(eu) deveria implementar esse Newton-Raphson ou usar um pacote de procedência duvidosa?” ou “escrever a matriz de delineamento é mesmo importante? O R já solta pra mim!” que atire a primeira pedra.</p>
<p>Na minha opinião, esse tipo de discussão nasce morta. Ao mesmo tempo em que é importante conhecer bem a teoria que se aplica, o mundo é vasto e grandioso demais pra gastar tempo estudando detalhes técnicos de implementação de todas as coisas. Isso é óbvio, mas por outro lado “um pouco” de conhecimento sobre a parte suja do trabalho também é essencial em algumas situações. Se a sua base ficou grande demais para o R, todo o seu conhecimento de estatística pode ser inútil, porque o que te separa do sucesso é um bom gerenciamento dos recursos computacionais.</p>
<p>Precisa existir um equilíbrio entre “apertar botões” e “reinventar a roda”. Isso é óbvio, mas a parte triste da discussão é que esse equilíbrio pode ser difícil de alcançar.</p>
<p>Existem muitas versões da discussão entre estatísticos-computeiros e estatísticos-papel-e-caneta. Uma delas, que será tema deste post, parte da questão “Eu deveria implementar todas as minhas funções ou usar as guloseimas tecnológicas disponíveis no CRAN?”. De um lado, os apóstolos do <code>tidyverse</code>, como a própria <code>Curso-R</code>, defendem e divulgam os avanços proporcionados por ferramentas que computam em altíssimo nível. Os estatísticos mais caxias gostam de implementar todas as contas e funções que foram utilizar, o que provoca alguns hábitos estranhos. Os tipos mais radicais invertem matrizes em Fortran, não acreditam na função <code>quantile</code> e não raramente são afeitos à teorias da conspiração.</p>
<p>Como sempre, nenhum dos dois lados está 100% correto, mas na última semana me deparei com um problema que me fez sentir mais próximo do mais radical dos xiitas.</p>
<div id="o-problema" class="section level2">
<h2>O problema</h2>
<p>Considere que você precisa carregar um vetor de datas que vieram do Excel. Pulando a parte de leitura e as soluções que poderiam vir do bom uso de pacotes como <code>readxl</code> e <code>openxlsx</code>, considere que o problema prático consiste em converter, já no R, o seguinte vetor de textos num vetor de datas.</p>
<pre class="r"><code>exemplo_1 &lt;- c(&quot;22/08/2016&quot;,&quot;29/08/2016&quot;, &quot;05/09/2016&quot;,&quot;12/09/2016&quot;)</code></pre>
<p>Quem usa o <code>tidyverse</code> faria isso usando a função <code>dmy</code> do pacote <code>lubridate</code>:</p>
<pre class="r"><code>lubridate::dmy(exemplo_1)</code></pre>
<pre><code>## [1] &quot;2016-08-22&quot; &quot;2016-08-29&quot; &quot;2016-09-05&quot; &quot;2016-09-12&quot;</code></pre>
<p>e o resultado seria exatamente o que a gente quer. O que aconteceu comigo, entretanto, foi um comportamento inesperado num exemplo muito parecido com esse.</p>
<p>Por conta da formatação irregular de um arquivo de Excel, me deparei com um vetor parecido com esse <code>o_que_observei</code>:</p>
<pre class="r"><code>repeticoes &lt;- 800
o_que_observei &lt;- c(rep(&quot;39419&quot;, repeticoes), &quot;22/08/2016&quot;,&quot;29/08/2016&quot;, &quot;05/09/2016&quot;,&quot;12/09/2016&quot;)</code></pre>
<p>Eu imaginava que, quando <code>repeticoes</code> valesse 800, o resultado fosse o mesmo que acontece quando <code>repeticoes</code> vale 1, mas esse não é o caso.</p>
<p>Primeiro, vamos o que acontece quando <code>repeticoes</code> vale 1:</p>
<pre class="r"><code>exemplo_2 &lt;- c(&quot;39419&quot;, &quot;22/08/2016&quot;,&quot;29/08/2016&quot;, &quot;05/09/2016&quot;,&quot;12/09/2016&quot;)</code></pre>
<p>O <code>lubridate</code> não é esperto o suficiente para perceber que a primeira entrada representa uma data com origem no dia “30/12/1899” (a data padrão em Excel’s de Windows), mas tudo aquilo que ele não sabe como converter vira um <code>NA</code>.</p>
<pre class="r"><code>lubridate::dmy(exemplo_2)</code></pre>
<pre><code>## Warning: 1 failed to parse.</code></pre>
<pre><code>## [1] NA           &quot;2016-08-22&quot; &quot;2016-08-29&quot; &quot;2016-09-05&quot; &quot;2016-09-12&quot;</code></pre>
<p>Agora, veja só o que acontece quando fazemos a mesma coisa no meu exemplo:</p>
<pre class="r"><code>lubridate::dmy(o_que_observei)</code></pre>
<pre><code>## Warning: All formats failed to parse. No formats found.</code></pre>
<pre><code>##   [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
##  [24] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
##  [47] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
##  [70] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
##  [93] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [116] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [139] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [162] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [185] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [208] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [231] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [254] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [277] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [300] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [323] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [346] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [369] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [392] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [415] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [438] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [461] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [484] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [507] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [530] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [553] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [576] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [599] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [622] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [645] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [668] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [691] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [714] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [737] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [760] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [783] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA</code></pre>
<p>O resultado é bastante estranho. Embora as últimas entradas do vetor sejam datas num formato conhecido, não é isso que a função retorna.</p>
</div>
<div id="a-investigacao" class="section level1">
<h1>A investigação</h1>
<p>Me perguntando sobre o que aconteceu, eu resolvi criar uma <a href="http://127.0.0.1:4321/blog/2017/07/29/2017-07-29-comportamentos-estranhos-lubridate/">issue</a> no pacote <code>lubridate</code>.</p>
<blockquote>
<p>Consider the following vectors:</p>
<pre><code>dates_vector_1 &lt;- c(&quot;22/08/2016&quot;,&quot;29/08/2016&quot;,&quot;05/09/2016&quot;,&quot;12/09/2016&quot;)
dates_vector_2 &lt;- c(rep(&quot;1&quot;, 500), dates_vector_1)
dates_vector_3 &lt;- c(rep(&quot;1&quot;, 800), dates_vector_1)</code></pre>
<p><code>dmy</code> fails to detect formats on the third, even though it’s capable of finding it on the second.</p>
<pre><code>library(lubridate)

dmy(dates_vector_1)
dmy(dates_vector_2)
dmy(dates_vector_3)</code></pre>
<p>Is this supposed to happen? If it is, why?</p>
</blockquote>
<p>A resposta do <code>vspinu</code>, pricipal contribuidor do <code>lubridate</code> hoje, me respondeu muito rapidamente!</p>
<blockquote>
<p>This is a consequence of guessing formats based on a deterministic sub-sample of the original vector. This issue was aleviated somewhat recently, but it’s impossible to solve efficiently without dropping format guesser to C level. Not something which I would consider in the future.</p>
<p>See #307 #308. You can disable guesser with parse_date_time and train=FALSE.</p>
</blockquote>
<p>Case solved! O problema é a <code>parse_date_time</code>, que é usada por trás do <code>dmy</code>. Antes de converter, o <code>lubridate</code> adivinha quais são os formatos, que usa apenas <a href="https://github.com/tidyverse/lubridate/issues/307">um pedaço do vetor</a>.</p>
</div>
<div id="a-solucao" class="section level1">
<h1>A solução</h1>
<p>A solução proposta pelo <code>vspinu</code> não funcionou no meu caso.</p>
<pre class="r"><code>parse_date_time(o_que_observei, train = T, orders = &#39;dmy&#39;)</code></pre>
<p>O <code>parse_date_time</code> continua não reconhecendo as últimas entradas do meu vetor como datas, mesmo com o <code>train = FALSE</code>.</p>
<p>Para não gastar muito tempo, terminei fazendo um gato pra resolver o meu problema.</p>
<pre class="r"><code>novo &lt;- c(&quot;01/01/2001&quot;, o_que_observei)

solucao &lt;- dmy(novo)[-1]</code></pre>
<pre><code>## Warning: 800 failed to parse.</code></pre>
<pre class="r"><code>solucao</code></pre>
<pre><code>##   [1] NA           NA           NA           NA           NA          
##   [6] NA           NA           NA           NA           NA          
##  [11] NA           NA           NA           NA           NA          
##  [16] NA           NA           NA           NA           NA          
##  [21] NA           NA           NA           NA           NA          
##  [26] NA           NA           NA           NA           NA          
##  [31] NA           NA           NA           NA           NA          
##  [36] NA           NA           NA           NA           NA          
##  [41] NA           NA           NA           NA           NA          
##  [46] NA           NA           NA           NA           NA          
##  [51] NA           NA           NA           NA           NA          
##  [56] NA           NA           NA           NA           NA          
##  [61] NA           NA           NA           NA           NA          
##  [66] NA           NA           NA           NA           NA          
##  [71] NA           NA           NA           NA           NA          
##  [76] NA           NA           NA           NA           NA          
##  [81] NA           NA           NA           NA           NA          
##  [86] NA           NA           NA           NA           NA          
##  [91] NA           NA           NA           NA           NA          
##  [96] NA           NA           NA           NA           NA          
## [101] NA           NA           NA           NA           NA          
## [106] NA           NA           NA           NA           NA          
## [111] NA           NA           NA           NA           NA          
## [116] NA           NA           NA           NA           NA          
## [121] NA           NA           NA           NA           NA          
## [126] NA           NA           NA           NA           NA          
## [131] NA           NA           NA           NA           NA          
## [136] NA           NA           NA           NA           NA          
## [141] NA           NA           NA           NA           NA          
## [146] NA           NA           NA           NA           NA          
## [151] NA           NA           NA           NA           NA          
## [156] NA           NA           NA           NA           NA          
## [161] NA           NA           NA           NA           NA          
## [166] NA           NA           NA           NA           NA          
## [171] NA           NA           NA           NA           NA          
## [176] NA           NA           NA           NA           NA          
## [181] NA           NA           NA           NA           NA          
## [186] NA           NA           NA           NA           NA          
## [191] NA           NA           NA           NA           NA          
## [196] NA           NA           NA           NA           NA          
## [201] NA           NA           NA           NA           NA          
## [206] NA           NA           NA           NA           NA          
## [211] NA           NA           NA           NA           NA          
## [216] NA           NA           NA           NA           NA          
## [221] NA           NA           NA           NA           NA          
## [226] NA           NA           NA           NA           NA          
## [231] NA           NA           NA           NA           NA          
## [236] NA           NA           NA           NA           NA          
## [241] NA           NA           NA           NA           NA          
## [246] NA           NA           NA           NA           NA          
## [251] NA           NA           NA           NA           NA          
## [256] NA           NA           NA           NA           NA          
## [261] NA           NA           NA           NA           NA          
## [266] NA           NA           NA           NA           NA          
## [271] NA           NA           NA           NA           NA          
## [276] NA           NA           NA           NA           NA          
## [281] NA           NA           NA           NA           NA          
## [286] NA           NA           NA           NA           NA          
## [291] NA           NA           NA           NA           NA          
## [296] NA           NA           NA           NA           NA          
## [301] NA           NA           NA           NA           NA          
## [306] NA           NA           NA           NA           NA          
## [311] NA           NA           NA           NA           NA          
## [316] NA           NA           NA           NA           NA          
## [321] NA           NA           NA           NA           NA          
## [326] NA           NA           NA           NA           NA          
## [331] NA           NA           NA           NA           NA          
## [336] NA           NA           NA           NA           NA          
## [341] NA           NA           NA           NA           NA          
## [346] NA           NA           NA           NA           NA          
## [351] NA           NA           NA           NA           NA          
## [356] NA           NA           NA           NA           NA          
## [361] NA           NA           NA           NA           NA          
## [366] NA           NA           NA           NA           NA          
## [371] NA           NA           NA           NA           NA          
## [376] NA           NA           NA           NA           NA          
## [381] NA           NA           NA           NA           NA          
## [386] NA           NA           NA           NA           NA          
## [391] NA           NA           NA           NA           NA          
## [396] NA           NA           NA           NA           NA          
## [401] NA           NA           NA           NA           NA          
## [406] NA           NA           NA           NA           NA          
## [411] NA           NA           NA           NA           NA          
## [416] NA           NA           NA           NA           NA          
## [421] NA           NA           NA           NA           NA          
## [426] NA           NA           NA           NA           NA          
## [431] NA           NA           NA           NA           NA          
## [436] NA           NA           NA           NA           NA          
## [441] NA           NA           NA           NA           NA          
## [446] NA           NA           NA           NA           NA          
## [451] NA           NA           NA           NA           NA          
## [456] NA           NA           NA           NA           NA          
## [461] NA           NA           NA           NA           NA          
## [466] NA           NA           NA           NA           NA          
## [471] NA           NA           NA           NA           NA          
## [476] NA           NA           NA           NA           NA          
## [481] NA           NA           NA           NA           NA          
## [486] NA           NA           NA           NA           NA          
## [491] NA           NA           NA           NA           NA          
## [496] NA           NA           NA           NA           NA          
## [501] NA           NA           NA           NA           NA          
## [506] NA           NA           NA           NA           NA          
## [511] NA           NA           NA           NA           NA          
## [516] NA           NA           NA           NA           NA          
## [521] NA           NA           NA           NA           NA          
## [526] NA           NA           NA           NA           NA          
## [531] NA           NA           NA           NA           NA          
## [536] NA           NA           NA           NA           NA          
## [541] NA           NA           NA           NA           NA          
## [546] NA           NA           NA           NA           NA          
## [551] NA           NA           NA           NA           NA          
## [556] NA           NA           NA           NA           NA          
## [561] NA           NA           NA           NA           NA          
## [566] NA           NA           NA           NA           NA          
## [571] NA           NA           NA           NA           NA          
## [576] NA           NA           NA           NA           NA          
## [581] NA           NA           NA           NA           NA          
## [586] NA           NA           NA           NA           NA          
## [591] NA           NA           NA           NA           NA          
## [596] NA           NA           NA           NA           NA          
## [601] NA           NA           NA           NA           NA          
## [606] NA           NA           NA           NA           NA          
## [611] NA           NA           NA           NA           NA          
## [616] NA           NA           NA           NA           NA          
## [621] NA           NA           NA           NA           NA          
## [626] NA           NA           NA           NA           NA          
## [631] NA           NA           NA           NA           NA          
## [636] NA           NA           NA           NA           NA          
## [641] NA           NA           NA           NA           NA          
## [646] NA           NA           NA           NA           NA          
## [651] NA           NA           NA           NA           NA          
## [656] NA           NA           NA           NA           NA          
## [661] NA           NA           NA           NA           NA          
## [666] NA           NA           NA           NA           NA          
## [671] NA           NA           NA           NA           NA          
## [676] NA           NA           NA           NA           NA          
## [681] NA           NA           NA           NA           NA          
## [686] NA           NA           NA           NA           NA          
## [691] NA           NA           NA           NA           NA          
## [696] NA           NA           NA           NA           NA          
## [701] NA           NA           NA           NA           NA          
## [706] NA           NA           NA           NA           NA          
## [711] NA           NA           NA           NA           NA          
## [716] NA           NA           NA           NA           NA          
## [721] NA           NA           NA           NA           NA          
## [726] NA           NA           NA           NA           NA          
## [731] NA           NA           NA           NA           NA          
## [736] NA           NA           NA           NA           NA          
## [741] NA           NA           NA           NA           NA          
## [746] NA           NA           NA           NA           NA          
## [751] NA           NA           NA           NA           NA          
## [756] NA           NA           NA           NA           NA          
## [761] NA           NA           NA           NA           NA          
## [766] NA           NA           NA           NA           NA          
## [771] NA           NA           NA           NA           NA          
## [776] NA           NA           NA           NA           NA          
## [781] NA           NA           NA           NA           NA          
## [786] NA           NA           NA           NA           NA          
## [791] NA           NA           NA           NA           NA          
## [796] NA           NA           NA           NA           NA          
## [801] &quot;2016-08-22&quot; &quot;2016-08-29&quot; &quot;2016-09-05&quot; &quot;2016-09-12&quot;</code></pre>
</div>
<div id="conclusao" class="section level1">
<h1>Conclusão</h1>
<p>A eterna disputa entre os que sabem exatamente o que acontece por trás dos programas e aqueles que não sabem vai continuar eternamente. Como disseram numa das issues que mencionei neste texto</p>
<blockquote>
<p>Obviously there is no mathematical solution without inspecting the full vector that won’t run into edge cases.</p>
</blockquote>
<p>Mas isso não deve ser motivo para se isolar numa caverna. Sempre podemos olhar com cuidado para as soluções que implementamos e entrar em contato com os desenvolvedores das nossas ferramentas.</p>
<p>Por hoje, espero que esse problema específico sobre o <code>lubridate</code> esteja esclarecido e que ninguém fique com medo de usar a infinitude de pacotes de R. Como vimos aqui, mesmo que a princípios as coisas sejam obscuras, sempre podemos buscar mais informações sobre a implementação de uma função.</p>
</div>

                        </div>
                        
                         <div class="addthis_inline_share_toolbox"></div>
                        
                        
                        
                        <div id="comments">
                            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'curso-r-com';
    var disqus_identifier = 'http:\/\/curso-r.com\/blog\/2017\/09\/02\/2017-07-29-comportamentos-estranhos-lubridate\/';
    var disqus_title = 'Comportamentos imprevisíveis do lubridate';
    var disqus_url = 'http:\/\/curso-r.com\/blog\/2017\/09\/02\/2017-07-29-comportamentos-estranhos-lubridate\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                        </div>
                        

                    </div>
                    

                    

                    

                    <div class="col-md-3">

                        

                        

<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
        <h3 class="panel-title">Busca</h3>
    </div>

    <div class="panel-body">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" role="search">
            <div class="input-group">
                <input type="search" name="q" results="0" class="form-control" placeholder="Busca">
                <input type="hidden" name="q" value="site:http://curso-r.com/">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>
                </span>
            </div>
        </form>
    </div>
</div>







<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
        <h3 class="panel-title">Categorias</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            
            <li><a href="http://curso-r.com/categories/an%c3%a1lises">análises (13)</a>
            </li>
            
            <li><a href="http://curso-r.com/categories/conceitos">conceitos (9)</a>
            </li>
            
            <li><a href="http://curso-r.com/categories/discuss%c3%b5es">discussões (4)</a>
            </li>
            
            <li><a href="http://curso-r.com/categories/divulga%c3%a7%c3%a3o">divulgação (6)</a>
            </li>
            
            <li><a href="http://curso-r.com/categories/r">r (72)</a>
            </li>
            
            <li><a href="http://curso-r.com/categories/top-10">top-10 (3)</a>
            </li>
            
            <li><a href="http://curso-r.com/categories/tutoriais">tutoriais (32)</a>
            </li>
            
        </ul>
    </div>
</div>








<div class="panel sidebar-menu">
    <div class="panel-heading">
        <h3 class="panel-title">Tags</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            
            <li><a href="http://curso-r.com/tags/algoritmos"><i class="fa fa-tags"></i> algoritmos</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/an%c3%a1lises"><i class="fa fa-tags"></i> análises</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/api"><i class="fa fa-tags"></i> api</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/autoencoders"><i class="fa fa-tags"></i> autoencoders</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/bayes"><i class="fa fa-tags"></i> bayes</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/bds"><i class="fa fa-tags"></i> bds</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/bitcoin"><i class="fa fa-tags"></i> bitcoin</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/br-bloggers"><i class="fa fa-tags"></i> br-bloggers</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/captcha"><i class="fa fa-tags"></i> captcha</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/cinema"><i class="fa fa-tags"></i> cinema</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/cluster"><i class="fa fa-tags"></i> cluster</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/coding"><i class="fa fa-tags"></i> coding</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/componentes-principais"><i class="fa fa-tags"></i> componentes-principais</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/conceitos"><i class="fa fa-tags"></i> conceitos</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/cron"><i class="fa fa-tags"></i> cron</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/curso-r"><i class="fa fa-tags"></i> curso-r</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/dados-abertos"><i class="fa fa-tags"></i> dados-abertos</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/data.frames"><i class="fa fa-tags"></i> data.frames</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/deep-learning"><i class="fa fa-tags"></i> deep-learning</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/dplyr"><i class="fa fa-tags"></i> dplyr</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/emo%c3%a7%c3%b5es"><i class="fa fa-tags"></i> emoções</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/environments"><i class="fa fa-tags"></i> environments</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/esparsa"><i class="fa fa-tags"></i> esparsa</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/estat%c3%adstica"><i class="fa fa-tags"></i> estatística</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/fatores"><i class="fa fa-tags"></i> fatores</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/forcats"><i class="fa fa-tags"></i> forcats</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/ggplot2"><i class="fa fa-tags"></i> ggplot2</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/git"><i class="fa fa-tags"></i> git</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/github"><i class="fa fa-tags"></i> github</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/glm"><i class="fa fa-tags"></i> glm</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/glue"><i class="fa fa-tags"></i> glue</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/googlemaps"><i class="fa fa-tags"></i> googlemaps</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/gr%c3%a1ficos"><i class="fa fa-tags"></i> gráficos</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/imagens"><i class="fa fa-tags"></i> imagens</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/janitor"><i class="fa fa-tags"></i> janitor</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/keras"><i class="fa fa-tags"></i> keras</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/kmeans"><i class="fa fa-tags"></i> kmeans</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/knitr"><i class="fa fa-tags"></i> knitr</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/leaflet"><i class="fa fa-tags"></i> leaflet</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/lolapalooza"><i class="fa fa-tags"></i> lolapalooza</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/magick"><i class="fa fa-tags"></i> magick</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/mapas"><i class="fa fa-tags"></i> mapas</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/matriz"><i class="fa fa-tags"></i> matriz</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/miojo"><i class="fa fa-tags"></i> miojo</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/modelagem"><i class="fa fa-tags"></i> modelagem</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/musica"><i class="fa fa-tags"></i> musica</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/ocr"><i class="fa fa-tags"></i> ocr</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/pacotes"><i class="fa fa-tags"></i> pacotes</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/paraleliza%c3%a7%c3%a3o"><i class="fa fa-tags"></i> paralelização</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/pca"><i class="fa fa-tags"></i> pca</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/pdf"><i class="fa fa-tags"></i> pdf</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/plotly"><i class="fa fa-tags"></i> plotly</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/porta-dos-fundos"><i class="fa fa-tags"></i> porta-dos-fundos</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/progress"><i class="fa fa-tags"></i> progress</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/purrr"><i class="fa fa-tags"></i> purrr</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/python"><i class="fa fa-tags"></i> python</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/r"><i class="fa fa-tags"></i> r</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/r-markdown"><i class="fa fa-tags"></i> r-markdown</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/rcpp"><i class="fa fa-tags"></i> rcpp</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/redes-neurais"><i class="fa fa-tags"></i> redes-neurais</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/regress%c3%a3o"><i class="fa fa-tags"></i> regressão</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/regress%c3%a3o-log%c3%adstica"><i class="fa fa-tags"></i> regressão-logística</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/reticulate"><i class="fa fa-tags"></i> reticulate</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/rstudio"><i class="fa fa-tags"></i> rstudio</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/sf"><i class="fa fa-tags"></i> sf</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/skimr"><i class="fa fa-tags"></i> skimr</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/spotify"><i class="fa fa-tags"></i> spotify</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/sptrans"><i class="fa fa-tags"></i> sptrans</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/ssl"><i class="fa fa-tags"></i> ssl</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/strings"><i class="fa fa-tags"></i> strings</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/survival"><i class="fa fa-tags"></i> survival</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/telegram"><i class="fa fa-tags"></i> telegram</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/tensorflow"><i class="fa fa-tags"></i> tensorflow</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/tidyverse"><i class="fa fa-tags"></i> tidyverse</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/venneuler"><i class="fa fa-tags"></i> venneuler</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/vers%c3%a3o"><i class="fa fa-tags"></i> versão</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/web-scraping"><i class="fa fa-tags"></i> web-scraping</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/woe"><i class="fa fa-tags"></i> woe</a>
            </li>
            
            <li><a href="http://curso-r.com/tags/youtube"><i class="fa fa-tags"></i> youtube</a>
            </li>
            
        </ul>
    </div>
</div>






<div class="panel sidebar-menu">
    <div class="panel-heading">
        <h3 class="panel-title">Nossos Cursos</h3>
    </div>

    <div class="blog-entries">
         
        <div>
            <div>
                <a href="http://curso-r.com/cursos/introducao-programacao-r/">
                  
                    <img src="http://curso-r.com/img/banners/banner-r-base.png" class="img-responsive" alt="">
                  
                </a>
            </div>
            <div class="name same-height-always">
                <h5><a href="http://curso-r.com/cursos/introducao-programacao-r/">Introdução à Programação em R</a></h5>
            </div>
        </div>
         
        <div>
            <div>
                <a href="http://curso-r.com/cursos/webscraping/">
                  
                    <img src="http://curso-r.com/img/banners/banner-scrape.png" class="img-responsive" alt="">
                  
                </a>
            </div>
            <div class="name same-height-always">
                <h5><a href="http://curso-r.com/cursos/webscraping/">Web scraping com R</a></h5>
            </div>
        </div>
        
    </div>
    
    
</div>




                        

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

        <footer id="footer">
    <script type = "text/javascript"> 
    var pres = document.getElementsByTagName("pre");
    var codes = document.getElementsByTagName("code");
  
    for (i=0;i<pres.length;i++) {
      pres[i].className = "language-r";
    }
  
    for (i=0;i<codes.length;i++) {
      codes[i].className = "language-r";
    } 
    </script>
    <script src="http://curso-r.com/js/prism.js"></script> 
    <div class="container">

        
        <div class="col-md-4 col-sm-6">
            <h4>Sobre nós</h4>

            <p>A Curso-R é uma empresa que nasceu com o objetivo de disseminar conhecimento sobre R, Estatística e Data Science.</p>

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

        <div class="col-md-4 col-sm-6">

              
            <h4>Posts Recentes</h4>

            <div class="blog-entries">
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="http://curso-r.com/blog/2017/12/09/2017-12-09-estatistica-e-programacao/">
                          
                            <img src="http://curso-r.com/img/banners/dog-pc.jpg" class="img-responsive" alt="">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="http://curso-r.com/blog/2017/12/09/2017-12-09-estatistica-e-programacao/">Estatística e programação</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="http://curso-r.com/blog/2017/11/24/2017-11-23-union-sf/">
                          
                            <img src="http://curso-r.com/img/banners/sf.png" class="img-responsive" alt="">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="http://curso-r.com/blog/2017/11/24/2017-11-23-union-sf/">Unindo mapas: the tidy way</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="http://curso-r.com/blog/2017/11/23/2017-11-23-introducao-rcpp/">
                          
                            <img src="http://curso-r.com/img/banners/rcpp-rocket.jpg" class="img-responsive" alt="">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="http://curso-r.com/blog/2017/11/23/2017-11-23-introducao-rcpp/">Fazendo o R Voar: uma Introdução ao Rcpp</a></h5>
                    </div>
                </div>
                
            </div>

            <hr class="hidden-md hidden-lg">
             

        </div>
        

        <div class="col-md-4 col-sm-6">

            <h4>Contato</h4>

            <a href="http://curso-r.com/contact" class="btn btn-small btn-template-main">Vá para a página de contato</a>
            <hr>
            
            <div>
              
              <a href="https://github.com/curso-r">
                <i class="fa fa-github" style="font-size:50px;"></i>
              </a>
              <a href="https://twitter.com/curso_r/">
                <i class="fa fa-twitter" style="font-size:50px;"></i>
              </a>
      
            </div>
            
            
        </div>
        

    </div>
    
</footer>







<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
            <p class="pull-left">Copyright (c) 2016 - 2017, Curso-R; all rights reserved.</p>
            
            <p class="pull-right">
              Template by <a href="http://bootstrapious.com/free-templates">Bootstrapious</a>.
              

              Ported to Hugo by <a href="https://github.com/devcows/hugo-universal-theme">DevCows</a>
            </p>
        </div>
    </div>
</div>





    </div>
    

    
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-87272102-2', 'auto');
ga('send', 'pageview');
</script>

 <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-58ab4e79943a7e3c"></script> 
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
    },
    "HTML-CSS": { preferredFont: "STIX" }
  });
</script>
<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>

<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/2.0.5/waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>

<script src="//maps.googleapis.com/maps/api/js?v=3.exp"></script>

<script src="http://curso-r.com/js/hpneo.gmaps.js"></script>
<script src="http://curso-r.com/js/gmaps.init.js"></script>
<script src="http://curso-r.com/js/front.js"></script>

<script src="http://curso-r.com/js/owl.carousel.min.js"></script>


  </body>
</html>
